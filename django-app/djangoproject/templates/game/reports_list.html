{% extends 'base.html' %}

{% block title %}Reports - Admin{% endblock %}

{% block content %}
<div class="card">
    <h1>ðŸš¨ Reports Dashboard</h1>

    {% if reports %}
        <table style="width:100%; border-collapse: collapse;">
            <tr style="background:#f8f9fa;">
                <th style="padding:10px;">Story</th>
                <th style="padding:10px;">User</th>
                <th style="padding:10px;">Reason</th>
                <th style="padding:10px;">Status</th>
                <th style="padding:10px;">Action</th>
            </tr>

            {% for report in reports %}
            <tr style="border-bottom: 1px solid #ddd;">
                <td style="padding:10px;">{{ report.story_title }}</td>
                <td style="padding:10px;">{{ report.user.username }}</td>
                <td style="padding:10px;">{{ report.get_reason_display }}</td>
                <td style="padding:10px;">{{ report.get_status_display }}</td>
                <td style="padding:10px;">
                    <a href="{% url 'update_report' report.id %}" class="btn btn-secondary">Review</a>
                </td>
            </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>No reports found.</p>
    {% endif %}
</div>
{% endblock %}
